(this.webpackJsonpwebgames=this.webpackJsonpwebgames||[]).push([[0],{34:function(e,t,A){e.exports={Category_h1:"Heading_Category_h1__2Rw23"}},40:function(e,t,A){},41:function(e,t,A){},42:function(e,t,A){},43:function(e,t,A){},44:function(e,t,A){},45:function(e,t,A){},56:function(e,t,A){},57:function(e,t,A){},58:function(e,t,A){},59:function(e,t,A){},60:function(e,t,A){},61:function(e,t,A){},62:function(e,t,A){},63:function(e,t,A){},64:function(e,t,A){},65:function(e,t,A){},66:function(e,t,A){},67:function(e,t,A){},68:function(e,t,A){},69:function(e,t,A){},70:function(e,t,A){"use strict";A.r(t);var a=A(2),c=A(3),n=A.n(c),o=A(24),r=A.n(o),i=(A(40),A(10)),s=A(6),l=A(13),g=(A(41),A(11)),j=A(5),d=(A(42),function(e){return Object(a.jsx)("div",{style:{marginTop:"".concat(e.marginTop),justifyContent:e.justify||"space-between",marginBottom:e.marginBottom||"0"},className:"Container",children:e.children})}),u=function(e){return Object(a.jsx)("form",{onSubmit:e.submit,children:e.children})},b=(A(43),Object(c.createContext)({text:"",searchItem:function(){}})),h=function(e){var t=Object(c.useContext)(b);return Object(a.jsx)("input",{className:"Input",id:e.id,type:e.type,placeholder:e.placeholder,onChange:t.searchItem})},O=function(e){return Object(a.jsx)(u,{children:Object(a.jsx)(h,{type:"text",placeholder:"Search..",name:"search"})})},f=(A(44),function(e){return Object(a.jsxs)("select",{onChange:e.change,value:e.valueProp,className:"Dropdown",children:[Object(a.jsx)("option",{selected:!0,disabled:!0,children:"Genre"}),e.children]})}),m=(A(45),function(e){return Object(a.jsx)(l.b,{to:{pathname:"/WebGamesPortal/game",search:"?id=".concat(e.id,"&category=").concat(e.category),data:e.gameUrl,title:e.title},children:Object(a.jsxs)("div",{className:"GameCard",children:[Object(a.jsx)("img",{src:e.url,alt:"Cover_image"}),Object(a.jsx)("h3",{className:"title",children:e.title})]})})}),v=A(33),C=A.n(v),B=A(8);A(55);C.a.config();B.a.initializeApp({apiKey:"AIzaSyC1iIknhchQD0_l92tVQXI6wk1NMLc2VPE",authDomain:"dif-instantgames.firebaseapp.com",databaseURL:"https://dif-instantgames.firebaseio.com/",storageBucket:"dif-instantgames.appspot.com"});B.a;var x=B.a.auth(),E=new B.a.auth.GoogleAuthProvider;function I(e,t,A){B.a.database().ref("/Game Collection/all").orderByKey().startAt(e).limitToFirst(t).once("value").then(A)}function Q(e,t,A,a){e=e.toLowerCase(),B.a.database().ref("/Game Collection/"+e).orderByKey().startAt(t).limitToFirst(A).once("value").then((function(e){e.forEach((function(e){I(e.key,1,a)}))}))}function w(e){B.a.database().ref("/Game Collection/Categories Included").once("value").then(e)}function D(e,t){B.a.database().ref("/Game Collection/all/"+e).once("value").then(t)}var p=function(e){var t=[];return e.forEach((function(e){var A={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(A)})),t},L=function(e){var t=[];return e.forEach((function(e){var A=e.val();t.push(A)})),t},N=(A(56),function(){return Object(a.jsx)(n.a.Fragment,{children:Object(a.jsxs)("div",{className:"loader",children:[Object(a.jsx)("div",{className:"face",children:Object(a.jsx)("div",{className:"circle"})}),Object(a.jsx)("div",{className:"face",children:Object(a.jsx)("div",{className:"circle"})})]})})}),F=(A(57),function(e){return e.list.map((function(e){return Object(a.jsx)(m,{url:e.imageUrl,gameUrl:e.url,title:e.name,id:e.gameId,category:e.category},e.gameId)}))}),P=function(e){var t=Object(c.useState)({gamelist:[],dataLoaded:!1}),A=Object(i.a)(t,2),o=A[0],r=A[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){Q(e.category," ",6,(function(e){var t=p(e);r((function(e){return Object(j.a)(Object(j.a)({},o),{},{gamelist:[].concat(Object(g.a)(e.gamelist),Object(g.a)(t)),dataLoaded:!0})}))}))};return Object(a.jsx)(n.a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)(d,{children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)(l.c,{to:{pathname:"/WebGamesPortal/category",search:"&category=".concat(e.category)},children:"More"})]}),Object(a.jsxs)(d,{marginTop:"10px",children:[",",o.dataLoaded?Object(a.jsx)(F,{list:o.gamelist}):Object(a.jsx)(N,{})]})]})})},y=(A(58),function(){return Object(a.jsx)(n.a.Fragment,{children:Object(a.jsx)("div",{class:"logo",children:Object(a.jsx)("div",{class:"background",children:Object(a.jsx)("div",{class:"foreground"})})})})}),U=Object(s.h)((function(e){var t=Object(c.useState)({discoverList:[],dataLoaded:!1,login:!1,searching:!1}),A=Object(i.a)(t,2),n=A[0],o=A[1],r=Object(c.useState)({categoryList:[]}),s=Object(i.a)(r,2),l=s[0],u=s[1],h=Object(c.useState)({searchList:[],searching:!1}),m=Object(i.a)(h,2),v=m[0],C=m[1];Object(c.useEffect)((function(){x()}),[]);var x=Object(c.useCallback)((function(){var e;w((function(e){var t=L(e);u({categoryList:Object(g.a)(t)})})),e=function(e){var t=function(e){var t=[];return e.forEach((function(e){var A={title:e.val().title,category:e.val().category};t.push(A)})),t}(e);o(Object(j.a)(Object(j.a)({},n),{},{discoverList:Object(g.a)(t),dataLoaded:!0}))},B.a.database().ref("/Discover Cards").once("value").then(e)}),[n]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d,{children:[Object(a.jsx)(b.Provider,{value:{text:v.searchKey,searchItem:function(e){var t,A,a;e.target.value.length>0?(C({searchList:[],searching:!0}),t=e.target.value,A=5,a=function(e){if(null!=e.val()){console.log("Searching");var t=[],A={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(A),C((function(e){return void 0===e.searchList.find((function(e){return e.gameId===A.gameId}))?Object(j.a)(Object(j.a)({},e),{},{searchList:[].concat(Object(g.a)(e.searchList),t)}):e}))}else console.log("Database doesn't exist")},t=t.toLowerCase(),B.a.database().ref("/Game Collection/search index").orderByValue().startAt(t).limitToFirst(A).once("value").then((function(e){e.forEach((function(e){D(e.key,a)}))}))):C({searchList:[],searching:!1})}},children:Object(a.jsx)(O,{})}),Object(a.jsx)(f,{change:function(t){var A=t.target.value;e.history.push({pathname:"/WebGamesPortal/category",search:"&category=".concat(A)})},children:l.categoryList.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))})]}),v.searching?Object(a.jsx)("h2",{style:{color:"white",paddingLeft:"10%"},children:"Searching"}):null,v.searching?Object(a.jsx)(d,{marginTop:"15px",children:v.searching?Object(a.jsx)(F,{list:v.searchList}):null}):null,n.dataLoaded?n.discoverList.map((function(e){var t=e.title.slice(0,15);return Object(a.jsx)(P,{category:e.category,title:e.title},t)})):Object(a.jsx)(y,{})]})})),S=(A(59),A(60),Object(c.createContext)({loggedIn:!1,signIn:function(){},signOut:function(){}})),k=(A(61),function(e){return Object(a.jsxs)("div",{className:"Avatar",children:[Object(a.jsx)("img",{className:"img-small",src:e.imageUrl,alt:"dp"}),Object(a.jsx)("h3",{className:"name",children:e.name})]})}),G=function(e){var t=Object(s.g)(),A=Object(c.useContext)(S),n="",o="";if(A.loggedIn){var r=JSON.parse(localStorage.getItem("userCred")),i=(o=r.displayName).indexOf(" ");-1!==i&&i<8?o=o.slice(0,i):(o=o.slice(0,8),o+="..."),n=r.photoURL}return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("ul",{className:"NavLinks",children:[A.loggedIn?Object(a.jsx)("li",{children:Object(a.jsx)(l.c,{style:{background:"none",border:"none",color:"white"},to:"/WebGamesPortal/user",children:Object(a.jsx)(k,{imageUrl:n,name:o})})}):null,Object(a.jsx)("li",{children:Object(a.jsx)(l.c,{to:"/WebGamesPortal/about",children:"ABOUT US"})}),Object(a.jsx)("li",{children:Object(a.jsx)(l.c,{to:"/WebGamesPortal/contact",children:"CONTACT US"})}),A.loggedIn?Object(a.jsx)("button",{onClick:function(){A.signOut(),t.push("/WebGamesPortal")},children:"LOG OUT"}):Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){!function(e,t){x.signInWithPopup(E).then((function(A){localStorage.setItem("userCred",JSON.stringify(A.user)),t.go(0),e()})).catch((function(e){console.log(e.message)}))}(A.signIn,t)},children:"LOG IN"})})]})})},M=function(e){return Object(a.jsxs)("header",{className:"MainHeader",children:[Object(a.jsx)("h1",{className:"main-navigation__title",children:Object(a.jsx)(l.b,{to:"/WebGamesPortal",children:"Web Games Portal"})}),Object(a.jsx)(G,{})]})},Y=(A(62),function(e){return Object(a.jsx)("iframe",{className:"IFrame",title:"gamespace",src:e.path})}),H=A.p+"static/media/hearts.29546ff8.png",T=(A(63),Object(s.h)((function(e){var t,A=Object(c.useContext)(S),n=new URLSearchParams(e.location.search),o=n.get("category"),r=n.get("id");if(A.loggedIn){var s=JSON.parse(localStorage.getItem("userCred"));t=s.uid}var l=Object(c.useState)({gamelist:[],dataLoaded:!1}),u=Object(i.a)(l,2),b=u[0],h=u[1],O=Object(c.useState)({title:"",gameLink:""}),f=Object(i.a)(O,2),m=f[0],v=f[1],C=Object(c.useState)({isFav:!1}),x=Object(i.a)(C,2),E=x[0],w=x[1];Object(c.useEffect)((function(){D(),A.loggedIn&&function(e,t,A){B.a.database().ref("/Users/"+e+"/history/"+t).once("value").then(A)}(t,r,(function(e){e.val()||function(e,t,A){B.a.database().ref("/Users/"+e+"/history/"+t).set(!0,A)}(t,r)}))}),[]),Object(c.useEffect)((function(){window.scrollTo(0,0),L()}),[r]);var D=function(){var e=o.indexOf(",");-1!==e&&(o=o.slice(0,e)),I(n.get("id"),1,(function(e){var t=p(e);v(Object(j.a)(Object(j.a)({},m),{},{title:t[0].name,gameLink:t[0].url}))})),Q(o," ",24,(function(e){var t=p(e);h((function(e){return Object(j.a)(Object(j.a)({},b),{},{gamelist:[].concat(Object(g.a)(e.gamelist),Object(g.a)(t)),dataLoaded:!0})}))}))},L=function(){null!==localStorage.getItem("userCred")&&function(e,t,A){B.a.database().ref("/Users/"+e+"/favorites/"+t).once("value").then(A)}(t,r,(function(e){e.val()?w({isFav:!0}):w({isFav:!1})}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d,{children:[Object(a.jsx)("h1",{style:{color:"white"},children:e.location.title||m.title}),A.loggedIn?Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:"Favorites_img",onClick:function(){E.isFav?function(e,t,A){B.a.database().ref("/Users/"+e+"/favorites/"+t).set(null,A)}(t,r,(function(e){e?alert("Removing favorites failed..."):w({isFav:!1})})):function(e,t,A){B.a.database().ref("/Users/"+e+"/favorites/"+t).set(!0,A)}(t,r,(function(e){e?alert("Adding to favorites failed"):w({isFav:!0})}))},alt:"fav",src:E.isFav?"data:image/png;base64,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":H}),Object(a.jsx)("h3",{className:"Favorites_h3",children:E.isFav?"Added to favorites":"Add to favorites"})]}):null]}),Object(a.jsx)(d,{marginTop:0,children:Object(a.jsx)(Y,{path:e.location.data||m.gameLink})}),Object(a.jsx)("h1",{className:"Favorites_h1",children:"Similar games"}),Object(a.jsxs)(d,{marginTop:"10px",children:[b.dataLoaded?Object(a.jsx)(F,{list:b.gamelist}):Object(a.jsx)(N,{}),b.loadingMore?Object(a.jsx)(N,{}):null]})]})}))),K=A(34),J=A.n(K),R=Object(s.h)((function(e){var t=new URLSearchParams(e.location.search).get("category"),A=Object(c.useState)({gameList:[],dataLoaded:!1,newLoaded:!0}),n=Object(i.a)(A,2),o=n[0],r=n[1],s=Object(c.useState)({categoryList:[],value:"Genre"}),l=Object(i.a)(s,2),u=l[0],b=l[1];Object(c.useEffect)((function(){return document.addEventListener("scroll",O),r(Object(j.a)(Object(j.a)({},o),{},{gameList:[]})),h(),function(){document.removeEventListener("scroll",O)}}),[e]);var h=function(){w((function(e){var t=L(e);b(Object(j.a)(Object(j.a)({},o),{},{categoryList:Object(g.a)(t)}))})),Q(t," ",24,(function(e){var t=p(e);r((function(e){return Object(j.a)(Object(j.a)({},o),{},{gameList:[].concat(Object(g.a)(e.gameList),Object(g.a)(t)),dataLoaded:!0})}))}))},O=Object(c.useCallback)((function(){window.innerHeight,document.documentElement.scrollTop,document.scrollingElement.scrollHeight}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d,{children:[Object(a.jsx)("div",{}),Object(a.jsx)(f,{valueProp:u.value,change:function(t){console.log(o);var A=t.target.value;r(Object(j.a)(Object(j.a)({},o),{},{gameList:[]})),e.history.push({pathname:"/WebGamesPortal/category",search:"&category=".concat(A)})},children:u.categoryList.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))})]}),Object(a.jsx)("h1",{className:J.a.Category_h1,children:t}),Object(a.jsxs)(d,{marginTop:"15px",children:[o.dataLoaded?Object(a.jsx)(F,{list:o.gameList}):Object(a.jsx)(N,{}),o.newLoaded?null:Object(a.jsx)(N,{})]})]})})),W=(A(64),function(e){return Object(a.jsxs)("ul",{className:"MiniNav",children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:e.favorites,children:"Favorites"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:e.history,children:"Played Games"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{children:"Link 2"})})]})}),V=(A(65),function(e){return Object(a.jsx)(d,{children:Object(a.jsx)("div",{className:"Minibar",children:Object(a.jsx)(W,{favorites:e.loadFav,history:e.loadHistory})})})}),z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHxSURBVHhe7dpPS8NAEIfhVCp40JsH/f4fTsGjggcFnZ/ZbbTEZnb2T3Zm54Ww29IIfbpJG+LkeZ7neZ7neda7+TorPJ/VVRi1d0se72F+qgTSIYyaA85rmK92oMI0Oe1AmzgxKZJmIDZOTIKkFSgZJ5aKpBKIcLJOvilIWldQMyS1QKgFkpbfQUfa7ufpEncV5KQB6EgL5YO2F5o/zE8t1UbqHegHJ8xxSD3R0BSpZ6A/OLFSSPTy6zC9WPVjWNgqzu/oDT7S8Dw/WqL9Nk/cAedzfnS5HoE2cWISpBQc1BsQGyeWgpSKg3oCSsaJcZAkOKgXIDFO7BKSFAf1AJSNE/sPKae9v+ZZOFgBtG1+mPS3Vn8C5LTnCmLj0HA6PGgfztd4sZW01woS4VC4JuP0Fsbs9lhBYhzmfnc0qAVShYNaAqnDQa2AVOKgFkBqcVBtINU4qCaQehxUC8gEDqoBZAYHlQYyhYNKApnDQaWATOKgEkBmcVAukGkclANkHgdJgYbAQRKgYXBQKtBQOCgFaDgcxAUaEgexgOhNSv4hQD0O2gQaGQdl3/axjINK3Bczi4NK3jg0h4OKnIO4acNBzW49a8RBTYC04qDqQJpxUFUg7TioGpAFHFQFyAoOKnYtFiMc7gWw53me53me123T9A0tEJd6j7exTgAAAABJRU5ErkJggg==",Z=(A(66),A(67),A(68),function(e){return r.a.createPortal(Object(a.jsx)("div",{className:"Backdrop",onClick:e.remove}),document.getElementById("backdrop-hook"))}),X=(A(69),function(e){return Object(a.jsx)("img",{className:"Profile_Avatar",src:e.imageUrl,onClick:function(){e.changeImage(e.imageUrl,e.id)},alt:"dp"})}),q=function(e){return Object(a.jsxs)(a.Fragment,{children:[e.show&&Object(a.jsx)(Z,{remove:e.hide}),Object(a.jsxs)("div",{className:"Profile_Modal",children:[Object(a.jsx)("h3",{children:e.text}),Object(a.jsx)("div",{children:e.data.map((function(t){return Object(a.jsx)(X,{id:t.avatarId||t.backgroundImageId,imageUrl:t.avatarUrl||t.backgroundUrl,changeImage:e.function},t.avatarId||t.backgroundImageId)}))})]})]})},_=function(){var e=JSON.parse(localStorage.getItem("userCred")),t=e.uid,A=e.displayName,n=Object(c.useState)({gamelist:[],noData:!1,dataLoaded:!1}),o=Object(i.a)(n,2),r=o[0],s=o[1],l=Object(c.useState)({profileURL:""}),u=Object(i.a)(l,2),b=u[0],h=u[1],O=Object(c.useState)({coverURL:""}),f=Object(i.a)(O,2),m=f[0],v=f[1],C=Object(c.useState)({gamelist:[],dataLoaded:!1,noData:!1}),x=Object(i.a)(C,2),E=x[0],Q=x[1],w=Object(c.useState)({currentMode:"Favorites"}),p=Object(i.a)(w,2),L=p[0],P=p[1],y=Object(c.useState)({showProfileModal:!1,profileData:[],showCoverModal:!1,coverData:[]}),U=Object(i.a)(y,2),S=U[0],k=U[1];Object(c.useEffect)((function(){Y(),H()}),[]);var G=function(){k(Object(j.a)(Object(j.a)({},S),{},{showProfileModal:!1}))},M=function(){k(Object(j.a)(Object(j.a)({},S),{},{showCoverModal:!1}))},Y=function(){!function(e,t){B.a.database().ref("/Users/"+e).once("value").then((function(e){var A;A=null===e.val()?4:e.val().avatarId,B.a.database().ref("/Avatars/"+A).once("value").then(t)}))}(t,(function(e){var t=e.val();h(Object(j.a)(Object(j.a)({},b),{},{profileURL:t}))})),function(e,t){B.a.database().ref("/Users/"+e).once("value").then((function(e){var A=e.val().backgroundImageId;console.log(A),void 0===A&&(A=8),B.a.database().ref("/Background Images/"+A).once("value").then(t)}))}(t,(function(e){var t=e.val();v(Object(j.a)(Object(j.a)({},m),{},{coverURL:t}))}))},H=function(){s(Object(j.a)(Object(j.a)({},r),{},{noData:!1,gamelist:[],dataLoaded:!1})),P({currentMode:"Favorites"}),function(e,t){B.a.database().ref("/Users/"+e+"/favorites").once("value").then((function(e){e.forEach((function(e){I(e.key,1,t)}))}))}(t,(function(e){var t=function(e){var t=[];return e.forEach((function(e){var A={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(A)})),t}(e);s((function(e){return Object(j.a)(Object(j.a)({},r),{},{gamelist:[].concat(Object(g.a)(e.gamelist),Object(g.a)(t)),dataLoaded:!0})}))})),setTimeout((function(){s((function(e){return e.dataLoaded?e:Object(j.a)(Object(j.a)({},e),{},{noData:!0})}))}),5e3)},T=null;return"Favorites"===L.currentMode?T=r.dataLoaded?Object(a.jsx)(F,{list:r.gamelist}):!r.dataLoaded&&r.noData?Object(a.jsxs)("h2",{style:{color:"red",margin:"auto",fontFamily:"sans-serif"},children:["Sorry. No favorites found. Add favorites or ",Object(a.jsx)("br",{}),"refresh to try again."]}):Object(a.jsx)(N,{}):"History"===L.currentMode&&(T=E.dataLoaded?Object(a.jsx)(F,{list:E.gamelist}):!E.dataLoaded&&E.noData?Object(a.jsxs)("h2",{style:{color:"red",margin:"auto",fontFamily:"sans-serif"},children:["Sorry. No history found. Play some games or ",Object(a.jsx)("br",{}),"refresh to try again."]}):Object(a.jsx)(N,{})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d,{marginTop:"0",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{alt:"cover_image",className:"Cover_img",src:m.coverURL}),Object(a.jsxs)("div",{className:"Cover_edit",onClick:function(){var e,t=[];e=function(e){e.forEach((function(e){var A={backgroundImageId:e.key,backgroundUrl:e.val()};t.push(A)})),k(Object(j.a)(Object(j.a)({},S),{},{showCoverModal:!0,coverData:t}))},B.a.database().ref("/Background Images/").once("value").then(e),k(Object(j.a)(Object(j.a)({},S),{},{showCoverModal:!0}))},children:[Object(a.jsx)("img",{src:z,alt:"Edit Profile"}),Object(a.jsx)("h6",{children:"Edit cover"})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{alt:"profile_img",className:"Profile_img",src:b.profileURL}),Object(a.jsx)("div",{className:"Profile_edit",onClick:function(){var e;e=function(e){var t=[];e.forEach((function(e){var A={avatarId:e.key,avatarUrl:e.val()};t.push(A)})),k(Object(j.a)(Object(j.a)({},S),{},{showProfileModal:!0,profileData:[].concat(t)}))},B.a.database().ref("/Avatars").once("value").then(e),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{showProfileModal:!0})}))},children:Object(a.jsx)("img",{src:z,alt:"Edit Profile"})})]})]}),Object(a.jsx)("h1",{className:"Username",children:A}),Object(a.jsx)(V,{loadFav:H,loadHistory:function(){P({currentMode:"History"}),Q(Object(j.a)(Object(j.a)({},E),{},{noData:!1,gamelist:[],dataLoaded:!1})),function(e,t){B.a.database().ref("/Users/"+e+"/history").once("value").then((function(e){e.forEach((function(e){D(e.key,t)}))}))}(t,(function(e){var t=function(e){return console.log("Received Data:"),{gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category}}(e);Q((function(e){var A=Object(g.a)(e.gamelist);return A.push(t),Object(j.a)(Object(j.a)({},e),{},{gamelist:Object(g.a)(A),dataLoaded:!0,noData:!1})}))})),setTimeout((function(){Q((function(e){return e.dataLoaded?e:Object(j.a)(Object(j.a)({},e),{},{noData:!0})}))}),5e3)}}),S.showCoverModal?Object(a.jsx)(q,{data:S.coverData,hide:M,show:S.showCoverModal,function:function(e,A){!function(e,t,A){B.a.database().ref("/Users/"+e+"/backgroundImageId").set(t,A)}(t,A,(function(t){t?alert("Changing cover failed"):(v(Object(j.a)(Object(j.a)({},m),{},{coverURL:e})),M())}))},text:"Choose a Cover"}):null,S.showProfileModal?Object(a.jsx)(q,{data:S.profileData,hide:G,show:S.showProfileModal,function:function(e,A){!function(e,t,A){B.a.database().ref("/Users/"+e+"/avatarId").set(t,A)}(t,A,(function(t){t?alert("Could not change avatar"):(h(Object(j.a)(Object(j.a)({},b),{},{profileURL:e})),G())}))},text:"Choose an Avatar"}):null,r.dataLoaded?Object(a.jsx)("h1",{className:"Userpage_h1",children:L.currentMode}):null,Object(a.jsx)(d,{justify:"flex-start",marginTop:"10px",marginBottom:"20px",children:T})]})};var $=function(){var e=Object(c.useState)({loggedIn:!1}),t=Object(i.a)(e,2),A=t[0],n=t[1];Object(c.useEffect)((function(){null!==localStorage.getItem("userCred")&&n({loggedIn:!0})}),[]);var o=Object(c.useCallback)((function(){n({loggedIn:!0})}),[]),r=Object(c.useCallback)((function(){localStorage.removeItem("userCred"),n({loggedIn:!1})}),[]),g=null;return g=A.loggedIn?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"/WebGamesPortal",exact:!0,children:Object(a.jsx)(U,{})}),Object(a.jsx)(s.b,{path:"/WebGamesPortal/game",children:Object(a.jsx)(T,{})}),Object(a.jsx)(s.b,{path:"/WebGamesPortal/category",children:Object(a.jsx)(R,{})}),Object(a.jsx)(s.b,{path:"/WebGamesPortal/user",children:Object(a.jsx)(_,{})})]})}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"/WebGamesPortal",exact:!0,children:Object(a.jsx)(U,{})}),Object(a.jsx)(s.b,{path:"/WebGamesPortal/game",children:Object(a.jsx)(T,{})}),Object(a.jsx)(s.b,{path:"/WebGamesPortal/category",children:Object(a.jsx)(R,{})}),Object(a.jsx)(s.a,{to:"/WebGamesPortal"})]})}),Object(a.jsx)(l.a,{children:Object(a.jsx)(S.Provider,{value:{loggedIn:A.loggedIn,signIn:o,signOut:r},children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(M,{}),g]})})})},ee=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,71)).then((function(t){var A=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,o=t.getTTFB;A(e),a(e),c(e),n(e),o(e)}))};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)($,{})}),document.getElementById("root")),ee()}},[[70,1,2]]]);
//# sourceMappingURL=main.26d38c54.chunk.js.map