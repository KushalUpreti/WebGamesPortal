(this.webpackJsonpwebgames=this.webpackJsonpwebgames||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(3),r=a.n(n),o=a(28),i=a.n(o),s=(a(36),a(9)),l=a(12),d=a(5),j=(a(37),a(38),function(e){return Object(c.jsx)("div",{style:{marginTop:"".concat(e.marginTop)},className:"Container",children:e.children})}),u=function(e){return Object(c.jsx)("form",{onSubmit:e.submit,children:e.children})},g=(a(39),Object(n.createContext)({value:"",searchItem:function(){}})),b=function(e){var t=Object(n.useContext)(g);return Object(c.jsx)("input",{className:"Input",id:e.id,type:e.type,placeholder:e.placeholder,onChange:t.searchItem,value:t.value||e.value})},h=function(e){return Object(c.jsx)(u,{children:Object(c.jsx)(b,{type:"text",placeholder:"Search..",name:"search"})})},m=(a(40),function(e){return Object(c.jsx)("select",{onChange:e.change,className:"Dropdown",children:e.children})}),O=a(14),f=(a(41),function(e){return Object(c.jsx)(l.b,{to:{pathname:"/game",search:"?id=".concat(e.id,"&category=").concat(e.category),data:e.gameUrl,title:e.title,firebase:e.fireb},children:Object(c.jsxs)("div",{className:"GameCard",children:[Object(c.jsx)("img",{src:e.url,alt:"Cover_image"}),Object(c.jsx)("h3",{children:e.title})]})})}),v=a(30),x=a.n(v),p=a(16);a(51);x.a.config();p.a.initializeApp({apiKey:"AIzaSyC1iIknhchQD0_l92tVQXI6wk1NMLc2VPE",authDomain:"dif-instantgames.firebaseapp.com",databaseURL:"https://dif-instantgames.firebaseio.com/",storageBucket:"dif-instantgames.appspot.com"});var y=p.a,L=p.a.auth(),C=new p.a.auth.GoogleAuthProvider,I=null,w=null;function N(e){var t=[];e.forEach((function(e){var a={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(a)})),w(Object(O.a)(Object(O.a)({},I),{},{gamelist:[].concat(t),dataLoaded:!0}))}function S(e,t,a,c){I=c,w=a,p.a.database().ref("/Game Collection/all").orderByKey().startAt(e).limitToFirst(t).once("value").then(N)}a(52);var T=function(){return Object(c.jsx)(r.a.Fragment,{children:Object(c.jsxs)("div",{className:"loader",children:[Object(c.jsx)("div",{className:"face",children:Object(c.jsx)("div",{className:"circle"})}),Object(c.jsx)("div",{className:"face",children:Object(c.jsx)("div",{className:"circle"})})]})})},U=(a(53),function(e){var t=Object(n.useState)({gamelist:[],dataLoaded:!1}),a=Object(s.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){var t,a,c;t=e.category,a=" ",c=6,t=t.toLowerCase(),y.database().ref("/Game Collection/"+t).orderByKey().startAt(a).limitToFirst(c).once("value").then((function(e){e.forEach((function(e){!function(e,t){y.database().ref("/Game Collection/all").orderByKey().startAt(e).limitToFirst(t).once("value").then(d)}(e.key,c)}))}))}),[]),Object(c.jsx)(r.a.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)(j,{children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsx)(l.c,{to:{pathname:"/category",search:"&category=".concat(e.category)},children:"More"})]}),Object(c.jsx)(j,{marginTop:"10px",children:o.dataLoaded?o.gamelist.map((function(e){return Object(c.jsx)(f,{url:e.imageUrl,gameUrl:e.url,title:e.name,id:e.gameId,category:e.category},e.gameId)})):Object(c.jsx)(T,{})})]})});function d(e){var t=[];e.forEach((function(e){var a={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(a)})),i(Object(O.a)(Object(O.a)({},o),{},{gamelist:[].concat(t),dataLoaded:!0}))}}),E=Object(d.g)((function(e){var t=Object(n.useState)({discoverList:[],searchKey:"",dataLoaded:!1,login:!1}),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)({categoryList:[]}),l=Object(s.a)(i,2),d=l[0],u=l[1];Object(n.useEffect)((function(){!function(e){var t;I=e,t=p.a.database().ref("/Game Collection/Categories Included");var a=[];t.once("value").then((function(t){t.forEach((function(e){var t=e.val();a.push(t)})),e({categoryList:[].concat(a)})}))}(u),I=r,w=o,p.a.database().ref("/Discover Cards").once("value").then((function(e){var t=[];e.forEach((function(e){var a={title:e.val().title,category:e.val().category};t.push(a)})),w(Object(O.a)(Object(O.a)({},I),{},{discoverList:[].concat(t),dataLoaded:!0}))}))}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j,{children:[Object(c.jsx)(g.Provider,{value:{value:r.searchKey,searchItem:function(e){var t,a;e.target.value.length>0?(t=e.target.value,a=12,I=r,w=o,t=t.toLowerCase(),p.a.database().ref("/Game Collection/search index").orderByValue().startAt(t).limitToFirst(a).once("value").then((function(e){e.forEach((function(e){S(e.key,1,w,I)}))}))):S(" ",r.itemCount,o,r)}},children:Object(c.jsx)(h,{})}),Object(c.jsxs)(m,{change:function(t){var a=t.target.value;e.history.push({pathname:"/category",search:"&category=".concat(a)})},children:[Object(c.jsx)("option",{value:"",defaultValue:"selected",disabled:"disabled",children:"Genre"}),d.categoryList.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})]}),r.dataLoaded?r.discoverList.map((function(e){var t=e.title.slice(0,15);return Object(c.jsx)(U,{category:e.category,title:e.title},t)})):Object(c.jsx)(T,{})]})})),k=(a(54),a(55),Object(n.createContext)({loggedIn:!1,signIn:function(){},signOut:function(){}})),F=(a(56),function(e){return Object(c.jsxs)("div",{className:"Avatar",children:[Object(c.jsx)("img",{className:"img-small",src:e.imageUrl,alt:"dp"}),Object(c.jsx)("h3",{className:"name",children:e.name})]})}),A=a.p+"static/media/download.080a54fc.png",G=function(e){var t=Object(n.useContext)(k),a="",r="";if(t.loggedIn){var o=JSON.parse(localStorage.getItem("userCred")),i=(r=o.displayName).indexOf(" ");-1!==i&&i<8?r=r.slice(0,i):(r=r.slice(0,8),r+="..."),a=o.photoURL}return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("ul",{className:"NavLinks",children:[t.loggedIn?Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{style:{background:"none",border:"none",color:"white"},to:"/user",children:Object(c.jsx)(F,{imageUrl:a,name:r})})}):null,Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:"/about",children:"ABOUT US"})}),Object(c.jsx)("li",{children:Object(c.jsx)(l.c,{to:"/contact",children:"CONTACT US"})}),t.loggedIn?Object(c.jsxs)("div",{class:"w3-dropdown-hover",children:[Object(c.jsx)("button",{style:{borderRadius:"50%"},class:"w3-button",children:Object(c.jsx)("img",{style:{width:"20px",height:"20px"},src:A})}),Object(c.jsx)("div",{className:"w3-dropdown-content w3-bar-block w3-border",children:Object(c.jsx)("a",{href:"logout.co",style:{color:"white",backgroundColor:"#292929"},className:"w3-bar-item w3-button",children:"Link 1"})})]}):Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){var e;e=t.signIn,L.signInWithPopup(C).then((function(t){console.log(t.user),localStorage.setItem("userCred",JSON.stringify(t.user)),e()})).catch((function(e){console.log(e.message)}))},children:"AUTHENTICATE"})})]})})},B=function(e){return Object(c.jsxs)("header",{className:"MainHeader",children:[Object(c.jsx)("h1",{className:"main-navigation__title",children:Object(c.jsx)(l.b,{to:"/",children:"Web Games Portal"})}),Object(c.jsx)(G,{})]})},P=(a(57),function(e){return Object(c.jsx)("iframe",{className:"IFrame",title:"gamespace",src:e.path})}),K=Object(d.g)((function(e){var t=Object(n.useState)({gamelist:[],dataLoaded:!1,loadingMore:!1,lastIndex:" "}),a=Object(s.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){var t=new URLSearchParams(e.location.search).get("category"),a=t.indexOf(",");-1!==a&&(t=t.slice(0,a)),function(e,t,a,c,n){e=e.toLowerCase(),I=n,w=c,p.a.database().ref("/Game Collection/"+e).orderByKey().startAt(t).limitToFirst(a).once("value").then((function(e){e.forEach((function(e){var t=e.key;console.log(t),S(t,a,w,I)}))}))}(t,r.lastIndex,24,o,r)}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{style:{color:"white",paddingLeft:"10%"},children:e.location.title}),Object(c.jsx)(j,{marginTop:0,children:Object(c.jsx)(P,{path:e.location.data})}),Object(c.jsx)("h1",{style:{color:"white",paddingLeft:"10%",marginTop:"50px"},children:"Similar games"}),Object(c.jsxs)(j,{marginTop:"10px",children:[r.dataLoaded?r.gamelist.map((function(e){return Object(c.jsx)(f,{url:e.imageUrl,gameUrl:e.url,title:e.name,id:e.gameId,category:e.category},e.gameId)})):Object(c.jsx)(T,{}),r.loadingMore?Object(c.jsx)(T,{}):null]})]})}));var R=Object(d.g)((function(e){var t=new URLSearchParams(e.location.search).get("category");!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1];c||(e(),r(!0))}((function(){console.log("This only happens ONCE and it happens BEFORE the initial render.")}));var a=Object(n.useState)({gameList:[],searchKey:"",dataLoaded:!1,newLoaded:!0}),r=Object(s.a)(a,2),o=r[0],i=r[1],l=Object(n.useState)({categoryList:[]}),d=Object(s.a)(l,2),u=d[0],b=d[1];Object(n.useEffect)((function(){!function(){var e;e=y.database().ref("/Game Collection/Categories Included");var t=[];e.once("value").then((function(e){e.forEach((function(e){var a=e.val();t.push(a)})),b({categoryList:[].concat(t)})}))}();var t=new URLSearchParams(e.location.search).get("category");e,p,p(t," ",24)}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(j,{children:[Object(c.jsx)(g.Provider,{value:{value:o.searchKey,searchItem:function(e){e.target.value.length>0||x(" ",o.itemCount)}},children:Object(c.jsx)(h,{})}),Object(c.jsxs)(m,{change:function(t){var a=t.target.value;e.history.push({pathname:"/category",search:"&category=".concat(a)})},children:[Object(c.jsx)("option",{value:"",defaultValue:"selected",disabled:"disabled",children:"Genre"}),u.categoryList.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})]}),Object(c.jsx)("h1",{style:{color:"white",paddingLeft:"10%",marginTop:"40px"},children:t}),Object(c.jsxs)(j,{marginTop:"15px",children:[o.dataLoaded?o.gameList.map((function(e){return Object(c.jsx)(f,{url:e.imageUrl,gameUrl:e.url,title:e.name,id:e.gameId,category:e.category},e.gameId)})):Object(c.jsx)(T,{}),o.newLoaded?null:Object(c.jsx)(T,{})]})]});function v(e){var t=[];e.forEach((function(e){var a={gameId:e.key,name:e.val().name,url:e.val().url,imageUrl:e.val().imageUrl,category:e.val().category};t.push(a)})),console.log(t.length),i(Object(O.a)(Object(O.a)({},o),{},{gameList:[].concat(t),dataLoaded:!0,newLoaded:!0}))}function x(e,t){y.database().ref("/Game Collection/all").orderByKey().startAt(e).limitToFirst(t).once("value").then(v)}function p(e,t,a){e=e.toLowerCase(),y.database().ref("/Game Collection/"+e).orderByKey().startAt(t).limitToFirst(a).once("value").then((function(e){e.forEach((function(e){x(e.key,a)}))}))}}));var M=function(){var e=Object(n.useState)({loggedIn:!1}),t=Object(s.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){null!==localStorage.getItem("userCred")&&(r({loggedIn:!0}),console.log("Logged in"))}),[]);var o=Object(n.useCallback)((function(){r({loggedIn:!0}),console.log("Signed in")}),[]),i=Object(n.useCallback)((function(){r({loggedIn:!1})}),[]);return Object(c.jsx)(l.a,{basename:"/",children:Object(c.jsx)(k.Provider,{value:{loggedIn:a.loggedIn,signIn:o,signOut:i},children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(B,{}),Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{path:"/",exact:!0,children:Object(c.jsx)(E,{})}),Object(c.jsx)(d.b,{path:"/game",children:Object(c.jsx)(K,{})}),Object(c.jsx)(d.b,{path:"/category",children:Object(c.jsx)(R,{})}),Object(c.jsx)(d.a,{to:"/"})]})]})})})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),D()}},[[58,1,2]]]);
//# sourceMappingURL=main.9980e90b.chunk.js.map